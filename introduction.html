<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Introduction &mdash; Operating Systems 27 Nov 2021 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Introduction to Processes" href="processes.html" />
    <link rel="prev" title="About the Book" href="meta.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #922247" >
            <a href="index.html" class="icon icon-home"> Operating Systems
          </a>
              <div class="version">
                27 Nov 2021
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="meta.html">About the Book</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="processes.html">Introduction to Processes</a></li>
<li class="toctree-l1"><a class="reference internal" href="files-io.html">Files and I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="scheduling.html">Process/Thread Scheduling</a></li>
<li class="toctree-l1"><a class="reference internal" href="mutualexclusion.html">Mutual Exclusion</a></li>
<li class="toctree-l1"><a class="reference internal" href="deadlock.html">Deadlock</a></li>
<li class="toctree-l1"><a class="reference internal" href="ipc.html">IPC Topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="kernelmm.html">Virtual Memory</a></li>
<li class="toctree-l1"><a class="reference internal" href="userlandmm.html">Userland Memory Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="storage.html">Storage and Devices</a></li>
<li class="toctree-l1"><a class="reference internal" href="fs.html">Implementing Files and Folders</a></li>
<li class="toctree-l1"><a class="reference internal" href="research.html">Storage Research at Loyola</a></li>
<li class="toctree-l1"><a class="reference internal" href="linux_vm.html">Installing a Linux Virtual Machine with VMware</a></li>
<li class="toctree-l1"><a class="reference internal" href="windows_vm.html">Installing a Windows Virtual Machine with VMware</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #922247" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Operating Systems</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Introduction</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/introduction.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="introduction">
<h1>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline"></a></h1>
<section id="crash-course-on-the-unix-shell">
<h2>Crash Course on the UNIX Shell<a class="headerlink" href="#crash-course-on-the-unix-shell" title="Permalink to this headline"></a></h2>
</section>
<section id="bin-bash">
<h2>/bin/bash<a class="headerlink" href="#bin-bash" title="Permalink to this headline"></a></h2>
<p>print the contents of a file to standard out:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cat file
</pre></div>
</div>
<p>print the contents of more than one file (use ‘{’ and ‘}’ to create lists, a form known as bracket expansion):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cat file1 file2 file3
$ cat {file1,file2,file3}
</pre></div>
</div>
<p>creating folders (-p creates parent folders if they don’t already exist):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ mkdir foobar
$ mkdir -p foo/bar/baz
</pre></div>
</div>
<p>creating files (or update time stamp of existing files):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ touch file1
$ touch file1 file2 file3
$ touch {file1,file2,file3}
</pre></div>
</div>
<p>You can also create an empty file as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">filename</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p>Be careful. Many operations can be <em>destructive</em> if you are not careful.</p>
</section>
<section id="more-useful-commands">
<h2>more useful commands<a class="headerlink" href="#more-useful-commands" title="Permalink to this headline"></a></h2>
<p>print text to the console:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ echo &quot;hello world&quot;
$ echo -e &quot;hello\t\t world\n&quot;
</pre></div>
</div>
<p>read the contents of a file, one screen at a time:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ less file1.txt
</pre></div>
</div>
<p>search a file for some text:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ grep &quot;hello world&quot; file1.txt
$ grep -e &quot;hello.* d&quot; file1.txt
</pre></div>
</div>
</section>
<section id="files-and-folders">
<h2>Files and Folders<a class="headerlink" href="#files-and-folders" title="Permalink to this headline"></a></h2>
<p>creating files:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">file1</span>
</pre></div>
</div>
<p>deleting files:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ rm file1
$ rm file2
</pre></div>
</div>
<p>creating folders:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ mkdir foo
</pre></div>
</div>
<p>deleting folders:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ rm -rf foo
</pre></div>
</div>
<p>Moving a file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ mv file1 folder/file1
</pre></div>
</div>
<p>Renaming a file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ mv file1 file2
</pre></div>
</div>
</section>
<section id="unix-file-permissions">
<h2>UNIX file permissions<a class="headerlink" href="#unix-file-permissions" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>UNIX files have a concept of access permissions and ownership</p></li>
<li><p>ownership is to a user and a user’s group</p></li>
<li><p>access permissions are read, write, and execute as applied to the
owning user, the group, and all others</p></li>
<li><p>if a folder is marked as executable, its contents can be listed and
it can be entered into. if it is not, files in it can be accessed
but not listed.</p></li>
</ul>
</section>
<section id="id1">
<h2>UNIX file permissions<a class="headerlink" href="#id1" title="Permalink to this headline"></a></h2>
<p>changing the user / group ownership of a file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ chown username:users file1
</pre></div>
</div>
<p>changing the user/group ownership of an entire folder and its children:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ chown -R username:users folder1
</pre></div>
</div>
<p>setting the owning user’s permission to be read,write, and execute:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ chmod u+rwx file1
</pre></div>
</div>
<p>setting the group’s permissions to be read, and execute:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ chmod g+rx file1
</pre></div>
</div>
<p>removing permissions from “group” and “other” to write to the file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ chmod go-w file1
</pre></div>
</div>
</section>
<section id="combining-commands">
<h2>Combining commands<a class="headerlink" href="#combining-commands" title="Permalink to this headline"></a></h2>
<p>searching two files for a pattern, then writing the results to a report:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cat {file1, file2} | grep -e &quot;Hello.*&quot; » report.txt
</pre></div>
</div>
<p>counting the number of lines in two files and printing result to console:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cat {file1, file2} | wc -l
</pre></div>
</div>
<p>executing the second command only if the first succeeds:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cat file1 | grep -e &quot;Hello.*&quot; &amp;&amp; echo &quot;found a match!&quot;
</pre></div>
</div>
<p>taking the output of one command as an argument for another:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ grep &quot;Hello&quot; `ls *.txt`
$ echo &quot;result: &quot; `cat file1 | wc -l`
</pre></div>
</div>
</section>
<section id="backround-processes-and-jobs">
<h2>Backround Processes and Jobs<a class="headerlink" href="#backround-processes-and-jobs" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>if you’re running a long running process and want to send suspended
it to the background, just press <cite>Ctrl+z</cite></p></li>
<li><p>to unsuspend it and keep it in the background, use the ‘bg’ command</p></li>
<li><p>to bring the process back to the foreground, use the ‘fg’ command</p></li>
<li><p>to bring the process back, just</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ tail -f logfile.log
$ ^Z
[1] + Stopped tail -f logfile.log
$ jobs -l
[1] + 5123 Stopped tail -f logfile.log
$ bg 1
[1] + tail -f logfile.log &amp;
$ jobs -l
[1]+ 5123 Running tail -f logfile.log
$ fg 1
tail -f logfile.log
</pre></div>
</div>
</section>
<section id="background-processes">
<h2>Background Processes<a class="headerlink" href="#background-processes" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Background processes will allow you to make the most of the machine
you have available to you.</p></li>
<li><p>If you have a long running process or task, or if you don’t want the
task you’ve launched to take over the terminal, just append ‘&amp;’ to
the command to launch it as a background task</p></li>
<li><p>Beware: multiple processes will print to the same console which may
become garbled.</p></li>
</ul>
</section>
<section id="crash-course-on-unix-editors">
<h2>Crash Course on UNIX Editors<a class="headerlink" href="#crash-course-on-unix-editors" title="Permalink to this headline"></a></h2>
</section>
<section id="choosing-an-editor">
<h2>Choosing an Editor<a class="headerlink" href="#choosing-an-editor" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>In Minix, your choices are limited. More ideal choices like
MonoDevelop, gedit, Eclipse, or Intellij-Idea are not present.</p></li>
<li><p>Your choices are basically: Emacs, vim, or nano.</p></li>
<li><p>We recommend starting with nano. It takes the least time to learn.</p></li>
<li><p>Emacs and vim have many more features that will increase your
productivity if you learn them, but both have a learning curve. It
is my opinion that vim has a steeper learning curve than Emacs, but
each his/her own.</p></li>
</ul>
</section>
<section id="crash-course-in-c-programming">
<h2>Crash Course in C Programming<a class="headerlink" href="#crash-course-in-c-programming" title="Permalink to this headline"></a></h2>
</section>
<section id="c-hello-world">
<h2>C - Hello World<a class="headerlink" href="#c-hello-world" title="Permalink to this headline"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#include «stdio.h»</span>

<span class="nb">int</span> <span class="n">main</span><span class="p">(</span><span class="nb">int</span> <span class="n">argc</span><span class="p">,</span> <span class="n">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span> <span class="p">{</span>
   <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;Hello world</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">);</span>
   <span class="n">getchar</span><span class="p">();</span>
   <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="c-header-files">
<h2>C - header files<a class="headerlink" href="#c-header-files" title="Permalink to this headline"></a></h2>
<table class="colwidths-given docutils align-default" id="id4">
<caption><span class="caption-text">List of Important Header Files</span><a class="headerlink" href="#id4" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 19%" />
<col style="width: 81%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Filename</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>assert.h</p></td>
<td><p>runtime assertion macro library</p></td>
</tr>
<tr class="row-odd"><td><p>complex.h</p></td>
<td><p>arithmetic library - trig functions, complex numbers</p></td>
</tr>
<tr class="row-even"><td><p>ctype.h</p></td>
<td><p>character type library (isdigit, islower, isupper, etc…)</p></td>
</tr>
<tr class="row-odd"><td><p>errno.h</p></td>
<td><p>error definition file for system error numbers</p></td>
</tr>
<tr class="row-even"><td><p>limits.h</p></td>
<td><p>system limit constants defined, data type limits defined</p></td>
</tr>
<tr class="row-odd"><td><p>math.h</p></td>
<td><p>arithmetic library</p></td>
</tr>
<tr class="row-even"><td><p>setjmp.h</p></td>
<td><p>defines setjmp/longjmp - good for implementing exceptions, cooperative multi-tasking</p></td>
</tr>
<tr class="row-odd"><td><p>signal.h</p></td>
<td><p>system singals - more when we talk about IPC</p></td>
</tr>
<tr class="row-even"><td><p>stdarg.h</p></td>
<td><p>var_args helpers, important for printf(”, ….) like functions</p></td>
</tr>
<tr class="row-odd"><td><p>stddef.h</p></td>
<td><p>defines NULL, wchar_t, size_t, ptrdiff_t</p></td>
</tr>
<tr class="row-even"><td><p>stdio.h</p></td>
<td><p>defines printf, putchar, getchar, other file I/O methods</p></td>
</tr>
<tr class="row-odd"><td><p>stdlib.h</p></td>
<td><p>defines heap management, environment variable management, random number generators, and integer to string converters</p></td>
</tr>
<tr class="row-even"><td><p>string.h</p></td>
<td><p>string manipulation methods</p></td>
</tr>
<tr class="row-odd"><td><p>time.h</p></td>
<td><p>time / date functions and types</p></td>
</tr>
</tbody>
</table>
</section>
<section id="c-operator-precedence-highest-to-lowest">
<h2>C - operator precedence (highest to lowest)<a class="headerlink" href="#c-operator-precedence-highest-to-lowest" title="Permalink to this headline"></a></h2>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">()</span></code>, <code class="docutils literal notranslate"><span class="pre">[]</span></code>, <code class="docutils literal notranslate"><span class="pre">.</span></code>, <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">++</span></code> (postfix) , <code class="docutils literal notranslate"><span class="pre">--</span></code> (postfix)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">++</span></code> (prefix), <code class="docutils literal notranslate"><span class="pre">--</span></code> (prefix), <code class="docutils literal notranslate"><span class="pre">+</span></code> (unary), <code class="docutils literal notranslate"><span class="pre">-</span></code> (unary), <code class="docutils literal notranslate"><span class="pre">!</span></code>, <code class="docutils literal notranslate"><span class="pre">~</span></code>, (type), <code class="docutils literal notranslate"><span class="pre">*</span></code> (dereference), <code class="docutils literal notranslate"><span class="pre">&amp;</span></code> (address-of), sizeof</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">*</span></code>, <code class="docutils literal notranslate"><span class="pre">/</span></code>, <code class="docutils literal notranslate"><span class="pre">%</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">+</span></code>, <code class="docutils literal notranslate"><span class="pre">-</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;&lt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;&gt;</span></code> (bitwise shift left/right)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;&lt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;&lt;=</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;&gt;=</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">==</span></code>, <code class="docutils literal notranslate"><span class="pre">!=</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&amp;</span></code> (bitwise and)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">^</span></code> (bitwise xor)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">|</span></code> (bitwise or)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code> (logical and)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">||</span></code> (logical or)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">?</span></code> : (ternary operator)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">=</span></code>, <code class="docutils literal notranslate"><span class="pre">+=</span></code>, <code class="docutils literal notranslate"><span class="pre">-=</span></code>, <code class="docutils literal notranslate"><span class="pre">*=</span></code>, <code class="docutils literal notranslate"><span class="pre">/=</span></code>, <code class="docutils literal notranslate"><span class="pre">%=</span></code>, <code class="docutils literal notranslate"><span class="pre">&amp;=</span></code>, <code class="docutils literal notranslate"><span class="pre">^=</span></code>, <code class="docutils literal notranslate"><span class="pre">|=</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;&lt;=</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;&gt;=</span></code>, (assignment operators)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">,</span></code> (expression separator)</p></li>
</ol>
</section>
<section id="c-type-declaration">
<h2>C - type declaration<a class="headerlink" href="#c-type-declaration" title="Permalink to this headline"></a></h2>
<p>simple types:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">typedef</span> <span class="n">unsigned</span> <span class="nb">int</span> <span class="n">uint</span><span class="p">;</span>
<span class="n">typedef</span> <span class="n">unsigned</span> <span class="n">long</span> <span class="n">file_size</span><span class="p">;</span>
<span class="n">typedef</span> <span class="nb">int</span><span class="o">*</span> <span class="n">intptr</span><span class="p">;</span>

<span class="n">uint</span> <span class="n">myVal</span> <span class="o">=</span> <span class="mi">55</span><span class="p">;</span>
</pre></div>
</div>
<p>structured types:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">typedef</span> <span class="n">struct</span> <span class="p">{</span>
   <span class="nb">int</span> <span class="n">foo</span><span class="p">;</span>
   <span class="n">char</span> <span class="n">bar</span><span class="p">;</span>
<span class="p">}</span> <span class="n">foobar</span><span class="p">;</span>

<span class="n">foobar</span> <span class="n">x</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="c-type-casting">
<h2>C - type casting<a class="headerlink" href="#c-type-casting" title="Permalink to this headline"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">float</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">2.2</span><span class="p">;</span>
<span class="nb">int</span> <span class="n">y</span> <span class="o">=</span> <span class="p">(</span><span class="nb">int</span><span class="p">)</span><span class="n">x</span><span class="p">;</span>         <span class="o">//</span> <span class="n">y</span> <span class="n">now</span> <span class="n">has</span> <span class="n">the</span> <span class="n">value</span> <span class="mf">2.</span> <span class="n">loss</span> <span class="n">of</span> <span class="n">precision</span>
<span class="nb">int</span> <span class="n">z</span> <span class="o">=</span> <span class="mf">2.5</span> <span class="o">*</span> <span class="mf">4.2</span><span class="p">;</span>      <span class="o">//</span> <span class="mf">2.5</span> <span class="ow">and</span> <span class="mf">4.2</span> <span class="n">are</span> <span class="n">floats</span><span class="p">,</span> <span class="n">they</span> <span class="n">multiply</span> <span class="k">as</span> <span class="nb">float</span>
                        <span class="o">//</span> <span class="n">first</span><span class="p">,</span> <span class="n">you</span> <span class="n">get</span> <span class="mf">10.5</span><span class="p">,</span> <span class="n">then</span> <span class="n">cast</span> <span class="n">to</span> <span class="nb">int</span> <span class="ow">and</span> <span class="n">you</span> <span class="n">get</span> <span class="mi">10</span>
<span class="nb">int</span> <span class="n">m</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
<span class="nb">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="nb">float</span> <span class="n">o</span> <span class="o">=</span> <span class="n">m</span> <span class="o">/</span> <span class="n">n</span><span class="p">;</span>        <span class="o">//</span> <span class="ow">in</span> <span class="n">this</span> <span class="n">case</span><span class="p">,</span> <span class="mi">4</span> <span class="o">/</span> <span class="mi">3</span> <span class="ow">is</span> <span class="nb">int</span> <span class="nb">type</span> <span class="ow">and</span> <span class="n">the</span> <span class="n">value</span> <span class="ow">is</span> <span class="mf">1.</span>
                        <span class="o">//</span> <span class="n">it</span> <span class="ow">is</span> <span class="n">assinged</span> <span class="n">to</span> <span class="nb">float</span> <span class="ow">and</span> <span class="n">becomes</span> <span class="mf">1.0</span>
<span class="nb">float</span> <span class="n">p</span> <span class="o">=</span> <span class="p">(</span><span class="nb">float</span><span class="p">)</span><span class="n">m</span> <span class="o">/</span> <span class="n">n</span>  <span class="o">//</span> <span class="ow">in</span> <span class="n">this</span> <span class="n">case</span><span class="p">,</span> <span class="n">one</span> <span class="n">variable</span> <span class="ow">is</span> <span class="n">of</span> <span class="nb">type</span> <span class="nb">float</span><span class="p">,</span> <span class="n">so</span>
                        <span class="o">//</span> <span class="n">the</span> <span class="n">value</span> <span class="n">of</span> <span class="n">p</span> <span class="ow">is</span> <span class="mf">1.333333</span>
</pre></div>
</div>
</section>
<section id="c-chacater-strings-arrays">
<h2>C - chacater strings (arrays)<a class="headerlink" href="#c-chacater-strings-arrays" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Strings in C are implemented as <em>arrays</em> of type char.</p></li>
<li><p>Strings are all null terminated.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;Hello</span> <span class="pre">World&quot;</span></code> would be the following array:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">'H',</span> <span class="pre">'e',</span> <span class="pre">'l',</span> <span class="pre">'l',</span> <span class="pre">'o',</span> <span class="pre">'</span> <span class="pre">',</span> <span class="pre">'W',</span> <span class="pre">'o',</span> <span class="pre">'r',</span> <span class="pre">'l',</span> <span class="pre">'d',</span> <span class="pre">0</span> <span class="pre">}</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">strlen(&quot;Hello</span> <span class="pre">World&quot;)</span></code> returns 11, and uses 12 bytes of memory</p></li>
<li><p>When allocating space for a string, always allocate one extra byte to store the null terminator.</p></li>
</ul>
</li>
</ul>
</section>
<section id="c-memory-management">
<h2>C - memory management<a class="headerlink" href="#c-memory-management" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Most C implementations do not have garbage collectors. All memory
management is done explicitly</p></li>
<li><p>Calls involved are <code class="docutils literal notranslate"><span class="pre">malloc()</span></code>, <code class="docutils literal notranslate"><span class="pre">calloc()</span></code>, and <code class="docutils literal notranslate"><span class="pre">free()</span></code>.</p></li>
<li><p>In this method, ‘msg’ is stored on the stack and ‘msg2’ is stored on
the heap.</p></li>
<li><p>stack variables are freed automatically, heap variables are not</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#include «stdio.h»</span>

<span class="nb">int</span> <span class="n">main</span><span class="p">(</span><span class="nb">int</span> <span class="n">argc</span><span class="p">,</span> <span class="n">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span> <span class="p">{</span>
   <span class="n">const</span> <span class="n">char</span> <span class="o">*</span><span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Hello world&quot;</span><span class="p">;</span>
   <span class="n">char</span> <span class="o">*</span><span class="n">msg2</span> <span class="o">=</span> <span class="p">(</span><span class="n">char</span><span class="o">*</span><span class="p">)</span><span class="n">calloc</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">sizeof</span><span class="p">(</span><span class="n">char</span><span class="p">)</span> <span class="o">*</span> <span class="n">strlen</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span>
   <span class="n">strncpy</span><span class="p">(</span><span class="n">msg2</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">strlen</span><span class="p">(</span><span class="n">msg</span><span class="p">));</span>
   <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">msg2</span><span class="p">);</span>
   <span class="n">free</span><span class="p">(</span><span class="n">msg2</span><span class="p">);</span>
   <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="c-pointers">
<h2>C - pointers<a class="headerlink" href="#c-pointers" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Two important keywords in C are ‘*’ and ‘&amp;’</p></li>
<li><ul>
<li><ul>
<li><p>pointer dereference</p></li>
</ul>
</li>
</ul>
</li>
<li><p>&amp; - value address</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">55</span><span class="p">;</span>            <span class="o">//</span> <span class="n">integer</span> <span class="n">variable</span> <span class="o">-</span> <span class="mi">55</span>
<span class="nb">int</span> <span class="n">q</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>           <span class="o">//</span> <span class="n">integer</span> <span class="n">variable</span> <span class="o">-</span> <span class="mi">100</span>
<span class="nb">int</span><span class="o">*</span> <span class="n">b</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">a</span><span class="p">;</span>           <span class="o">//</span> <span class="n">b</span> <span class="n">now</span> <span class="n">holds</span> <span class="n">the</span> <span class="n">address</span> <span class="n">of</span> <span class="n">a</span>
<span class="n">a</span> <span class="o">=</span> <span class="mi">56</span><span class="p">;</span>                <span class="o">//</span> <span class="n">a</span> <span class="ow">is</span> <span class="n">now</span> <span class="mi">56</span><span class="p">,</span> <span class="n">b</span> <span class="n">still</span> <span class="n">has</span> <span class="n">the</span> <span class="n">same</span> <span class="n">value</span> <span class="p">(</span><span class="n">address</span> <span class="n">of</span> <span class="n">a</span><span class="p">)</span>
<span class="o">*</span><span class="n">b</span> <span class="o">=</span> <span class="mi">70</span><span class="p">;</span>               <span class="o">//</span> <span class="o">*</span><span class="n">b</span> <span class="n">dereferences</span> <span class="n">the</span> <span class="n">pointer</span> <span class="n">of</span> <span class="n">b</span><span class="o">.</span> <span class="o">*</span><span class="n">b</span> <span class="o">=</span> <span class="mi">70</span><span class="p">,</span>
                       <span class="o">//</span> <span class="n">sets</span> <span class="n">the</span> <span class="n">value</span> <span class="n">of</span> <span class="mi">70</span> <span class="n">to</span> <span class="n">the</span> <span class="n">address</span> <span class="n">b</span> <span class="n">points</span> <span class="n">to</span><span class="o">.</span>
                       <span class="o">//</span> <span class="n">effectively</span><span class="p">,</span> <span class="n">this</span> <span class="n">sets</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">70</span>
<span class="n">b</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">q</span><span class="p">;</span>                <span class="o">//</span> <span class="n">b</span> <span class="n">now</span> <span class="n">points</span> <span class="n">to</span> <span class="n">q</span><span class="o">.</span>
<span class="n">a</span> <span class="o">=</span> <span class="o">*</span><span class="n">b</span><span class="p">;</span>                <span class="o">//</span> <span class="o">*</span><span class="n">b</span> <span class="n">dereferences</span> <span class="n">pointer</span> <span class="n">of</span> <span class="n">b</span><span class="o">.</span> <span class="o">*</span><span class="n">b</span> <span class="o">=</span> <span class="mi">100</span> <span class="n">because</span> <span class="n">q</span> <span class="o">=</span> <span class="mi">100</span>
                       <span class="o">//</span> <span class="n">value</span> <span class="n">of</span> <span class="n">q</span> <span class="ow">is</span> <span class="n">now</span> <span class="n">assigned</span> <span class="n">to</span> <span class="n">a</span>
</pre></div>
</div>
</section>
<section id="id2">
<h2>C - pointers<a class="headerlink" href="#id2" title="Permalink to this headline"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">typedef</span> <span class="n">struct</span> <span class="p">{</span>
   <span class="nb">int</span> <span class="n">a</span><span class="p">;</span>
   <span class="nb">int</span> <span class="n">b</span><span class="p">;</span>
<span class="p">}</span> <span class="n">foobar</span><span class="p">;</span>

<span class="n">foobar</span><span class="o">*</span> <span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="n">foobar</span><span class="o">*</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="n">sizeof</span><span class="p">(</span><span class="n">foobar</span><span class="p">));</span>

<span class="n">x</span><span class="o">-&gt;</span><span class="n">a</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>             <span class="o">//</span> <span class="n">here</span> <span class="n">we</span> <span class="n">use</span> <span class="s1">&#39;-&gt;&#39;</span> <span class="n">because</span> <span class="n">x</span> <span class="ow">is</span> <span class="n">an</span> <span class="n">address</span>
<span class="n">x</span><span class="o">-&gt;</span><span class="n">b</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>

<span class="n">foobar</span> <span class="n">y</span><span class="p">;</span>
<span class="n">y</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="mi">50</span><span class="p">;</span>              <span class="o">//</span> <span class="n">here</span> <span class="n">we</span> <span class="n">use</span> <span class="s1">&#39;.&#39;</span> <span class="n">because</span> <span class="n">y</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">value</span> <span class="nb">type</span>
<span class="n">y</span><span class="o">.</span><span class="n">b</span> <span class="o">=</span> <span class="mi">500</span><span class="p">;</span>

<span class="p">(</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>          <span class="o">//</span> <span class="n">here</span> <span class="n">we</span> <span class="n">use</span> <span class="s1">&#39;.&#39;</span> <span class="n">because</span> <span class="p">(</span><span class="o">*</span><span class="n">x</span><span class="p">)</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">dereferenced</span> <span class="n">pointer</span>
                       <span class="o">//</span> <span class="ow">and</span> <span class="n">therefore</span> <span class="n">a</span> <span class="n">value</span> <span class="nb">type</span>

<span class="p">(</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">b</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="id3">
<h2>C - pointers<a class="headerlink" href="#id3" title="Permalink to this headline"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">x</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">10</span><span class="p">};</span>   <span class="o">//</span> <span class="n">auto</span><span class="o">-</span><span class="n">initialized</span> <span class="n">array</span> <span class="n">of</span> <span class="mi">5</span> <span class="n">elements</span>
<span class="nb">int</span><span class="o">*</span> <span class="n">a</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>           <span class="o">//</span> <span class="n">address</span> <span class="n">of</span> <span class="n">first</span> <span class="n">element</span>
<span class="n">a</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>                    <span class="o">//</span> <span class="n">address</span> <span class="n">of</span> <span class="n">second</span> <span class="n">element</span>
<span class="o">*</span><span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>                 <span class="o">//</span> <span class="n">value</span> <span class="n">of</span> <span class="n">second</span> <span class="n">element</span> <span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="o">*</span><span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>            <span class="o">//</span> <span class="n">value</span> <span class="n">of</span> <span class="mi">3</span><span class="n">rd</span> <span class="n">element</span> <span class="ow">is</span> <span class="n">now</span> <span class="mi">20</span>

<span class="k">for</span> <span class="p">(</span><span class="nb">int</span><span class="o">*</span> <span class="n">b</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span> <span class="o">*</span><span class="n">b</span> <span class="o">!=</span> <span class="mi">10</span><span class="p">;</span> <span class="n">b</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
   <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%d</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="o">*</span><span class="n">b</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="c-functions">
<h2>C - functions<a class="headerlink" href="#c-functions" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>in C, functions have a name, return type, and parameter list</p></li>
<li><p>since C is a single pass compiler, the definition of a function must
appear before the reference to the function:</p></li>
</ul>
<p>Example where the functions are declared before use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">add</span><span class="p">(</span><span class="nb">int</span> <span class="n">x</span><span class="p">,</span> <span class="nb">int</span> <span class="n">y</span><span class="p">)</span> <span class="p">{</span>
   <span class="nb">int</span> <span class="nb">sum</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">;</span>
   <span class="k">return</span> <span class="nb">sum</span><span class="p">;</span>
<span class="p">}</span>

<span class="nb">int</span> <span class="n">main</span><span class="p">(</span><span class="nb">int</span> <span class="n">argc</span><span class="p">,</span> <span class="n">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span> <span class="p">{</span>
   <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;2+2=</span><span class="si">%d</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Example where a function is defined but not fully declared before
first use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">add</span><span class="p">(</span><span class="nb">int</span> <span class="n">x</span><span class="p">,</span> <span class="nb">int</span> <span class="n">y</span><span class="p">);</span>

<span class="nb">int</span> <span class="n">main</span><span class="p">(</span><span class="nb">int</span> <span class="n">argc</span><span class="p">,</span> <span class="n">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span> <span class="p">{</span>
   <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;2+2=</span><span class="si">%d</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">));</span>
<span class="p">}</span>

<span class="nb">int</span> <span class="n">add</span><span class="p">(</span><span class="nb">int</span> <span class="n">x</span><span class="p">,</span> <span class="nb">int</span> <span class="n">y</span><span class="p">)</span> <span class="p">{</span>
   <span class="nb">int</span> <span class="nb">sum</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">;</span>
   <span class="k">return</span> <span class="nb">sum</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="c-functions-headers">
<h2>C - functions / headers<a class="headerlink" href="#c-functions-headers" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>A good place to put function declarations is in a .h or .hh file</p></li>
<li><p>Since C is a single pass compiler, you have to take some care to make sure that a header is not read twice. macros help with this:</p></li>
<li><p>The macro ‘ifndef’ means if not defined. This causes the C compiler to only continue parsing if ‘FUNC_H’ is not yet defined</p></li>
</ul>
<p>myfunc.h contents:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#ifndef FUNC_H</span>
<span class="c1">#define FUNC_H</span>

<span class="nb">int</span> <span class="n">add</span><span class="p">(</span><span class="nb">int</span> <span class="n">x</span><span class="p">,</span> <span class="nb">int</span> <span class="n">y</span><span class="p">);</span>

<span class="c1">#endif</span>
</pre></div>
</div>
</section>
<section id="c-macros">
<h2>C - macros<a class="headerlink" href="#c-macros" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>C has a macro preprocessor. C processes the source file and expands
all macros and then compiles the expanded source</p></li>
<li><p>Be sure to be careful about parenthesis!</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#define add(x, y) x + y</span>
<span class="c1">#define mul(x,y) x * y</span>

<span class="nb">int</span> <span class="n">foo</span><span class="p">()</span> <span class="p">{</span>
   <span class="nb">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">add</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">);</span>
   <span class="nb">int</span> <span class="n">y</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span><span class="mi">4</span><span class="o">+</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>expands to (approximately):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">foo</span><span class="p">()</span> <span class="p">{</span>
   <span class="nb">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">3</span><span class="p">;</span>
   <span class="nb">int</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">4</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="mi">5</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">#define add(x, y) (x) + (y)</span>
<span class="c1">#define mul(x,y) (x) * (y)</span>

<span class="nb">int</span> <span class="n">foo</span><span class="p">()</span> <span class="p">{</span>
   <span class="nb">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">add</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">);</span>
   <span class="nb">int</span> <span class="n">y</span> <span class="o">=</span> <span class="n">mul</span><span class="p">(</span><span class="mi">4</span><span class="o">+</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>expands to (approximately):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">foo</span><span class="p">()</span> <span class="p">{</span>
   <span class="nb">int</span> <span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="mi">3</span><span class="p">);</span>
   <span class="nb">int</span> <span class="n">y</span> <span class="o">=</span> <span class="p">(</span><span class="mi">4</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">5</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="crash-course-on-gcc">
<h2>Crash course on GCC<a class="headerlink" href="#crash-course-on-gcc" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>GCC is the GNU Compiler Collection</p></li>
<li><p>Several languages exist: C, C++, ADA, Fortran, Java, Objective-C, and Go</p></li>
<li><p>GCC was one of the early GNU projects</p></li>
</ul>
</section>
<section id="where-to-find-it">
<h2>Where to find it?<a class="headerlink" href="#where-to-find-it" title="Permalink to this headline"></a></h2>
<p>You’ll want to make sure both of these commands are available:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ which gcc
/usr/bin/gcc

$ which make
/usr/bin/make
</pre></div>
</div>
<p>What if I cannot find them?</p>
<ul class="simple">
<li><p>Install Linux or Windows Subsystem for Linux on a PC</p></li>
<li><p>Install Homebrew (on MacOS)</p></li>
<li><p>Install a cloud-based shell</p></li>
</ul>
<p>These topics are covered in COMP 141 (Tools course).</p>
</section>
<section id="installing-on-ubuntu">
<h2>Installing on Ubuntu<a class="headerlink" href="#installing-on-ubuntu" title="Permalink to this headline"></a></h2>
<dl class="simple">
<dt>::</dt><dd><p>apt install build-essential</p>
</dd>
</dl>
</section>
<section id="os-x">
<h2>OS X<a class="headerlink" href="#os-x" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Has a mostly working <cite>gcc</cite> setup via Xcode</p></li>
<li><p>Use Homebrew to install <cite>gcc</cite>, <cite>make</cite>, and more current versions of open source software.</p></li>
</ul>
</section>
<section id="compiling-c-with-gcc">
<h2>Compiling C with GCC<a class="headerlink" href="#compiling-c-with-gcc" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Compilation with GCC has two phases:
- source to object file translation (compilation)
- object file to executable or library translation (linking)</p></li>
</ul>
<p>Example compilation command (compiles hello.c to hello.o):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ gcc -c hello.c -o hello.o
$ gcc -c helper.c -o helper.o
</pre></div>
</div>
<p>Example linker command (links hello.o and helper.o to program hello):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ gcc -o hello hello.o helper.o
</pre></div>
</div>
<p>Example with libraries in linker (links hello.o and helper.o, references pthreads shared library):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ gcc -o hello hello.o helper.o -lpthread
</pre></div>
</div>
</section>
<section id="accessing-assembly-code-with-gcc">
<h2>Accessing assembly code with GCC<a class="headerlink" href="#accessing-assembly-code-with-gcc" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Modern compilers have several phases. GCC has a:</p>
<ol class="arabic simple">
<li><p>lexer / parser (produces an AST)</p></li>
<li><p>intermediate code generator (produces IL byte code)</p></li>
<li><p>assembly code generator (produces machine specific code)</p></li>
<li><p>object file generator (generates encoded machine instructions)</p></li>
<li><p>linker (assembles many object files into a program)</p></li>
</ol>
</li>
<li><p>With GCC, it is possble to access the output of phases 3, 4, and 5.</p></li>
<li><dl class="simple">
<dt>To get assembly output, use the following command line:</dt><dd><ul>
<li><p>gcc -S test.c -o test.s</p></li>
<li><p>test.s will contain machine specific assembly source</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="useful-options-in-gcc-designed-to-help-you">
<h2>Useful options in GCC (designed to <em>help</em> you)<a class="headerlink" href="#useful-options-in-gcc-designed-to-help-you" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>-Wall : makes GCC print all language warnings</p></li>
<li><p>-O2: for the linker, turns on the optimizer</p></li>
<li><p>-g: generates debug symbols (useful for the debugger)</p></li>
<li><p>-fpic: generates object files that can be used in a shared library</p></li>
<li><p>-I adds a folder to search for header files</p></li>
</ul>
</section>
<section id="crash-course-on-gnu-makefiles">
<h2>Crash Course on GNU Makefiles<a class="headerlink" href="#crash-course-on-gnu-makefiles" title="Permalink to this headline"></a></h2>
<ul>
<li><p>A makefile is a list of rules. Each rule contains:
- a target
- dependent files or rules
- commands to produce the target</p></li>
<li><p>Makefiles manage source file dependencies. They also allow for rapid
builds because the make command can detect if something has already
been built or if it is out of date.</p></li>
<li><p>The form of a make file rule is as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">target</span><span class="p">:</span> <span class="n">dependent_file1</span> <span class="n">dependent_file2</span>
   <span class="n">command</span> <span class="n">to</span> <span class="n">build</span> <span class="n">target</span>
</pre></div>
</div>
</li>
<li><p>The concept of a makefile might at first glance appear <em>old school</em>
but the same ideas are used in modern IDEs, including Visual Studio,
MonoDevelop, and Eclipse and is required for developing <em>in the large</em>.</p></li>
</ul>
</section>
<section id="simple-makefile-example">
<h2>Simple makefile example<a class="headerlink" href="#simple-makefile-example" title="Permalink to this headline"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>CC=/usr/pkg/bin/g++
CFLAGS= -g -Wall -I.
LINKFLAGS= -g -Wall

all: demo

demo: list.o main.o tests.o debug.o
   $(CC) $(LINKFLAGS) -o demo list.o main.o tests.o debug.o

debug.o: debug.cc debug.hh
   $(CC) $(CFLAGS) -c debug.cc -o debug.o

tests.o: tests.cc debug.hh list.hh
   $(CC) $(CFLAGS) -c tests.cc -o tests.o

list.o: list.hh list.cc debug.hh
   $(CC) $(CFLAGS) -c list.cc -o list.o

main.o: main.cc list.hh debug.hh tests.hh
   $(CC) $(CFLAGS) -c main.cc -o main.o

clean:
   rm -f *.o demo
</pre></div>
</div>
</section>
<section id="running-makefiles">
<h2>Running makefiles<a class="headerlink" href="#running-makefiles" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Makefiles are run with the <code class="docutils literal notranslate"><span class="pre">make</span></code> command.</p></li>
<li><p>The make command will parse the Makefile and build what is not built
taking dependencies into account</p></li>
<li><p>Example uses:
- <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">all</span></code> – runs the target ‘all’
- <code class="docutils literal notranslate"><span class="pre">make</span></code> – runs default target (all)
- <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">clean</span></code> – runs target ‘clean’</p></li>
</ul>
</section>
<section id="history-of-operating-systems">
<h2>History of Operating Systems<a class="headerlink" href="#history-of-operating-systems" title="Permalink to this headline"></a></h2>
<p>What is an Operating System?</p>
<ul class="simple">
<li><p>An image of the machine to a program
- Defines contracts for various types of hardware into categories
- Each program doesn’t have to know how to work with every type of
network card, they each just have to interact with a networking
library</p></li>
<li><p>A resource manager
- Manages permissions, scheduling, and access to hardware resources</p></li>
<li><p>A collection of programs
- OS Kernel
- Device drivers
- System runtime libraries
- Graphical environments
- Service Management</p></li>
</ul>
</section>
<section id="first-generation-operating-systems">
<h2>First Generation Operating Systems<a class="headerlink" href="#first-generation-operating-systems" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Single program machines</p></li>
<li><p>Vacuum tubes, plug boards, punch cards</p></li>
<li><p>Stored program concept introduced in EDVAC, 1945, but would be many years before we had an OS.</p></li>
<li><p>All programming done in machine language</p></li>
<li><p>No programming languages</p></li>
<li><p>No operating systems</p></li>
<li><p>All programs are numerical calculations</p></li>
<li><p>Up to 1950’s</p></li>
</ul>
</section>
<section id="second-generation-systems">
<h2>Second Generation Systems<a class="headerlink" href="#second-generation-systems" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>1950s - 1960s</p></li>
<li><p>Introduction of transistors</p></li>
<li><p>Era of the mainframe and batch processing system</p></li>
<li><p>Assembly languages and FORTRAN</p></li>
<li><p>Batch systems composed of:
- Card readers
- Processors
- Printers</p></li>
</ul>
</section>
<section id="third-generation-systems">
<h2>Third Generation Systems<a class="headerlink" href="#third-generation-systems" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>1960s - 1980s</p></li>
<li><p>Integrated circuits</p></li>
<li><p>Beginning of the concept of backwards compatibility and machine images / abstractions.</p></li>
<li><p>IBM System/360, Z series machines</p></li>
<li><p>Multi-programming
- When one job was waiting for I/O operations to complete, it would
be paused and allow another job to run
- Accomplished by partitioning memory into pre-defined segments</p></li>
</ul>
</section>
<section id="fourth-generation-systems">
<h2>Fourth Generation Systems<a class="headerlink" href="#fourth-generation-systems" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>1980s - present</p></li>
<li><p>LSI / VLSI - integrated circuits</p></li>
<li><p>Era of mini-computers and micro-processors</p></li>
<li><p>Early UNIX operating systems</p></li>
<li><p>Early MS-DOS operating systems</p></li>
<li><p>1980s - UNIX, OS/2, Amiga, RiscOS, MS-DOS, MacOS</p></li>
<li><p>1990s - MacOS, Linux, Windows, Solaris, BSDs, HP-UX, AIX, zOS</p></li>
<li><p>2000s - MacOS, Linux, Windows</p></li>
</ul>
</section>
<section id="history-of-windows-nt-xp-vista-7">
<h2>History of Windows NT/XP/Vista/7<a class="headerlink" href="#history-of-windows-nt-xp-vista-7" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Windows NT 3/4
- NT 3.1 was first created as a direct competitor to OS/2
- Had Win32 / POSIX / OS-2 subsystems
- First Windows OS to support virtual memory
- Preemptively multi-tasking kernel
- First version of Windows with NTFS
- Generally outperformed Linux operating systems until 2.4.x Linux
kernels (<a class="reference external" href="http://www.mindcraft.com/whitepapers/openbench1.html">http://www.mindcraft.com/whitepapers/openbench1.html</a>)
- Beginning of Microsoft’s replacement of UNIX Market</p></li>
<li><p>Windows 2000
- Next generation of OS kernel, faster, Win 9x GUI
- NTFS 3.x - native encryption / compression, junctions, sparse files, disk quotas
- Active Directory!
- Beginning of MS security woes for IIS and worms in general</p></li>
<li><p>Windows XP</p>
<ul>
<li><p>Longest, largest install base of any Windows OS</p></li>
<li><p>Various kernel improvements over 2000</p></li>
<li><p>SP0 - SP2, MS experienced many security nightmares</p></li>
<li><p>Around 2003, with Linux 2.6, Linux began to perform better than
Windows XP in many non GUI operations</p></li>
<li><p>Stability improved greatly in XP, many kernel subsystems were
pulled into user-mode (csrss.exe)</p></li>
<li><p>Consolidation of development frameworks around .NET and Visual
Studio began to gain steam.</p></li>
<li><p>Improved NTFS: volume shadow copy, better dynamic volume support</p></li>
</ul>
</li>
<li><p>Vista</p>
<ul>
<li><p>released after two false starts in development</p></li>
<li><p>display manager moved from kernel to user mode</p></li>
<li><p>introduction of Aero</p></li>
<li><p>much more advanced memory manager
- very incorrectly criticized too - unused memory is wasted memory!
- largest performance problems were due to how much “hot memory”
was kept available</p></li>
<li><p>first non-linux desktop system to support NUMA</p></li>
<li><p>new version of NTFS
- dynamic resizing possible
- transaction support</p></li>
<li><p>UAC</p></li>
<li><p>new driver model - vendors caught by surprise</p></li>
</ul>
</li>
<li><p>Windows 7</p>
<ul>
<li><p>Mostly a refreshed version of Vista bu tan important one nonetheless</p></li>
<li><p>Fixes to memory manager’s “hot memory” problem</p></li>
<li><p>Mainstream 64-bit support by hardware vendors (finally!)</p></li>
<li><p>Many UI cleanups that Vista failed on</p></li>
<li><p>Virtualization support</p></li>
<li><p>New taskbar!</p></li>
</ul>
</li>
<li><p>Windows 10</p>
<ul>
<li><p>Continued improvements to virtualization</p></li>
<li><p>Windows Terminal</p></li>
<li><p>Windows Subsystem For Linux (1 and 2)</p></li>
<li><p>Native Linux Kernel Support for Windows</p></li>
</ul>
</li>
</ul>
</section>
<section id="history-of-linux">
<h2>History of Linux<a class="headerlink" href="#history-of-linux" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>89 - 93 – 0.x:
- Inspired by Dr. Tanenbaum’s Minix operating system.
- Used Minix FS format
- Developed on various 386/486 machines
- Protected memory, no swapper
- Processes, no kernel theads</p></li>
<li><p>94 – 96 1.x:
- Torvalds declares Linux to be “fully matured”.
- Support for X-11
- Support for non x86 begins to appear: SPARC, PPC, etc…</p></li>
<li><p>96 - 01 – 2.0/2.2
- Begins to become usable by advanced to intermediate hobbyists
- SMP support. Linux “scales” to 4-8 CPUs
- No real kernel thread support
- Greatly improved FS implementations
- Other vendors begin taking interest. Hardware support improves greatly</p></li>
<li><p>01-03 – 2.4
- much improved FS support - journaling, picks up legacy UNIX FS
implementations (XFS from IRIX especially)
- much improved hardware vendor support, IBM, HP, and others
- much improved, but ever changing virtual memory implementations
- begins to be competitive with Windows / UNIX in terms of performance
- still no real kernel thread support.</p></li>
<li><p>03-11 – 2.6
- Much improved SMP support. By mid 2000s, support for CPU counts seen in Windows Server / Solaris / AIX were a reality for Linux.
- Huge server install base. Killer app: Apache
- non-technical user base increases by leaps and bounds
- non personal computer / server installations - cell phones, media centers, industrial, etc… increase by leaps and bounds
- Genuine kernel threads support
- Surpasses Windows / UNIX performance for non-GUI operations
- Much better FS support- ext3, ext4, reiser, xfs; still room for
improvement based on NTFS progress
- Filesystm stability comes into parity with other operating systems
- Much better GUI performance - mostly from driver support
- Much better virtual memory performance
- Early competitor to the 2nd generation of virtualization support
(IBM and zOS being the 1st generation)</p></li>
</ul>
</section>
<section id="types-of-computer-systems">
<h2>Types of computer systems<a class="headerlink" href="#types-of-computer-systems" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>batch processing</p></li>
<li><p>personal / parallel computers</p></li>
<li><p>clusters</p></li>
<li><p>grid computers</p></li>
<li><p>distributed systems</p></li>
<li><p>gaming consoles</p></li>
<li><p>handheld/tablet computers</p></li>
<li><p>smart phones</p></li>
</ul>
</section>
<section id="batch-processing-systems">
<h2>batch processing systems<a class="headerlink" href="#batch-processing-systems" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>very typical of early systems</p></li>
<li><p>offline processing</p></li>
<li><p>program and data are prepared</p></li>
<li><p>program and data are loaded onto machine</p></li>
<li><p>machine executes process</p></li>
<li><p>machine stores results</p></li>
<li><p>results are interpreted and output</p></li>
</ul>
<p>Batch systems remain important, especially in CPU-bound environments where predictable performance is a requirement.</p>
</section>
<section id="time-sharing-systems">
<h2>time sharing systems<a class="headerlink" href="#time-sharing-systems" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>multiple users share the computer simultaneously</p></li>
<li><p>operating system gives a small portion of CPU time to each user</p></li>
<li><p>main use cases for telnet and the internet in the past</p></li>
<li><p>possible to run interactive programs such as editors, compilers, take user input, etc…</p></li>
</ul>
</section>
<section id="personal-parallel-computers">
<h2>personal / parallel computers<a class="headerlink" href="#personal-parallel-computers" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>used to be the case that personal and parallel computers were in a different category</p></li>
<li><p>machine has many CPUs. ranges from as few as two to as many as 64</p></li>
<li><p>have shared memory across the processors (memory hierarchies)</p></li>
<li><p>operating system use symmetric multi-processing (SMP)</p></li>
<li><p>each CPU runs a copy of the OS</p></li>
<li><p>cost of machines is typically O(n^2) where N is the CPU count</p></li>
<li><p>programs that require a high amount of communication run best on these types of systems (OpenMP programs for example)</p></li>
</ul>
</section>
<section id="clusters-clouds-grids">
<h2>clusters / clouds / grids<a class="headerlink" href="#clusters-clouds-grids" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>alternative to parallel systems</p></li>
<li><p>clusters
- cost of system is O(n), where n is the CPU count
- typically a collection of inexpensive PCs
- doesn’t have shared memory across all processors
- all machines are typically in one location</p></li>
<li><p>clouds - Azure, EC2, etc…</p>
<ul>
<li><p>commercial version of a cluster - company builds and maintains a large set of machines in one or more clusters.</p></li>
<li><p>makes money by renting out one or more nodes in the cluster</p></li>
</ul>
</li>
<li><p>grids - typically universities, volunteer computing</p>
<ul>
<li><p>not all at one location, perhaps across the internet</p></li>
<li><p>donation of idle CPU time - SETI, <a class="reference external" href="mailto:Folding&#37;&#52;&#48;Home">Folding<span>&#64;</span>Home</a>, etc…</p></li>
</ul>
</li>
</ul>
</section>
<section id="types-of-operating-systems">
<h2>Types of operating systems<a class="headerlink" href="#types-of-operating-systems" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Single program / OS</p></li>
<li><p>Real - time</p></li>
<li><p>Microkernel</p></li>
<li><p>Monolithic kernel</p></li>
<li><p>Distributed</p></li>
</ul>
</section>
<section id="single-program-simple-os">
<h2>Single program / simple OS<a class="headerlink" href="#single-program-simple-os" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Usually exist for single purpose computers such as older cellular phones, industrial machinery, automobiles, ATMs, older cash registers, etc…</p></li>
<li><p>Composed of either</p>
<ul>
<li><p>a combined operating system / application</p></li>
<li><p>a single operating system program and single application</p></li>
</ul>
</li>
<li><p>Examples:
- MS-DOS or CP/M + simple program
- Some uses of OS/2 - especially in ATMs</p></li>
</ul>
</section>
<section id="real-time-os">
<h2>Real-time OS<a class="headerlink" href="#real-time-os" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Used where application’s most important concern is completing a task on a deadline and at regular intervals rather than performance
- Sensor measurement / scanners, especially medical
- Industrial applications
- Automobile applications such as anti-lock brakes, traction control</p></li>
<li><p>Typically make use of cooperative multitasking</p></li>
<li><p>Examples:
- QNX
- MicroC
- VxWorks
- Layered systems on top of MS-D</p></li>
</ul>
</section>
<section id="microkernel-os">
<h2>Microkernel OS<a class="headerlink" href="#microkernel-os" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Basic operating system services including swapper, driver management, process scheduling, and system call handlers are separated into N kernel processes that pass messages to each other through the microkernel</p></li>
<li><p>Microkernel is very small</p></li>
<li><p>Typically have much more context switch overhead</p></li>
<li><p>Message passing schemes present an additional engineering problem</p></li>
<li><p>Successful examples:
- Minix (still a work in progress)
- OS-X (via Mach)
- Hurd (via Mach, then L4)</p></li>
</ul>
</section>
<section id="monolithic-kernel-os">
<h2>Monolithic Kernel OS<a class="headerlink" href="#monolithic-kernel-os" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Single kernel process that manages swapper, drivers, system calls, etc…</p></li>
<li><p>Examples:
- Earlier versions of Windows
- UNIX: AIX, HP-UX
- Linux, Free/Net/OpenBSD</p></li>
<li><p>Lower context switch overhead</p></li>
<li><p>Many believe that they are easier to develop for</p></li>
</ul>
</section>
<section id="distributed-os">
<h2>Distributed OS<a class="headerlink" href="#distributed-os" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Presents to an application a single system image of more than one
computer on a network</p></li>
<li><p>Examples:
- Amoeba
- Plan 9
- Mosix extensions to Linux</p></li>
<li><p>Commercially successful examples: none</p></li>
<li><p>Most distributed computing is accomplished by compilers and runtime
libraries outside of the operating system</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="meta.html" class="btn btn-neutral float-left" title="About the Book" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="processes.html" class="btn btn-neutral float-right" title="Introduction to Processes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2013-2020, Operating Systems Faculty at Loyola University Chicago.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>